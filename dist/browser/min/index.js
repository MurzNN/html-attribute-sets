function AttributeSetApply(t){var e=t.set,i=t.context,r=void 0===i?document:i,n=t.setsList,o=void 0===n?void 0:n,u=t.attributeName,a=void 0===u?"data-attr-sets":u,c=t.mode,d=void 0===c?"overwrite":c,s="".concat(a,"-applied"),f="".concat(a,"-initial");r.querySelectorAll("[".concat(a,"]")).forEach(function(t){var i=t.getAttribute("".concat(a,"-mode"))||d,r=function(t){var e;try{e=JSON.parse(t)}catch(e){return void console.error("Error parsing Attributes Sets JSON settings from the string",t)}var i={},r=function(t){t.split(",").forEach(function(r){if(o){if(r.endsWith("+")){var n=r.slice(0,-1),u=(a=o).indexOf(n);return void(-1!==u&&a.slice(u).forEach(function(t){i[t.trim()]=e[r]}))}if(r.endsWith("-")){n=r.slice(0,-1);var a,c=(a=o).indexOf(n);return void(-1!==c&&a.slice(0,c+1).forEach(function(t){i[t.trim()]=e[r]}))}}i[r.trim()]=e[t]})};for(var n in e)r(n);return i}(t.getAttribute(a)||"");if(r&&void 0!==r[e]){var n,u=r[e];"string"==typeof u&&(u={class:u});var c=!1;for(var l in t.hasAttribute(f)?(n=JSON.parse(t.getAttribute(f)||"{}"),c=!0):n={},u){var p=t.getAttribute(l);c||(n[l]=p),"create"==i&&null!=p&&""!==p||(null===u[l]?t.removeAttribute(l):"append"===i&&p?t.setAttribute(l,"".concat(n[l]," ").concat(u[l])):t.setAttribute(l,u[l]))}t.setAttribute(s,"1"),c||t.setAttribute(f,JSON.stringify(n))}})}window.AttributeSetApply=AttributeSetApply,"undefined"!=typeof module&&module.exports?(module.exports=AttributeSetApply,module.exports.default=AttributeSetApply):"undefined"!=typeof window&&"function"==typeof window.define&&window.define.amd&&window.define([],function(){return AttributeSetApply});