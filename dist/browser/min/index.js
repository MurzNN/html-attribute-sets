function applyAttributesSet(t){var e=t.set,i=t.context,r=void 0===i?document:i,n=t.setsList,o=void 0===n?void 0:n,a=t.attributeName,u=void 0===a?"data-attr-sets":a,s=t.mode,c=void 0===s?"overwrite":s,d="".concat(u,"-applied"),f="".concat(u,"-initial");r.querySelectorAll("[".concat(u,"]")).forEach(function(t){var i=t.getAttribute("".concat(u,"-mode"))||c,r=function(t){var e;try{e=JSON.parse(t)}catch(e){return void console.error("Error parsing Attributes Sets JSON settings from the string",t)}var i={},r=function(t){t.split(",").forEach(function(r){if(o){if(r.endsWith("+")){var n=r.slice(0,-1),a=(u=o).indexOf(n);return void(-1!==a&&u.slice(a).forEach(function(t){i[t.trim()]=e[r]}))}if(r.endsWith("-")){n=r.slice(0,-1);var u,s=(u=o).indexOf(n);return void(-1!==s&&u.slice(0,s+1).forEach(function(t){i[t.trim()]=e[r]}))}}i[r.trim()]=e[t]})};for(var n in e)r(n);return i}(t.getAttribute(u)||"");if(r&&void 0!==r[e]){var n,a=r[e];"string"==typeof a&&(a={class:a});var s=!1;for(var l in t.hasAttribute(f)?(n=JSON.parse(t.getAttribute(f)||"{}"),s=!0):n={},a){var p=t.getAttribute(l);s||(n[l]=p),"create"==i&&null!=p&&""!==p||(null===a[l]?t.removeAttribute(l):"append"===i&&p?t.setAttribute(l,"".concat(n[l]," ").concat(a[l])):t.setAttribute(l,a[l]))}t.setAttribute(d,"1"),s||t.setAttribute(f,JSON.stringify(n))}})}window.applyAttributesSet=applyAttributesSet,"undefined"!=typeof module&&module.exports?(module.exports=applyAttributesSet,module.exports.default=applyAttributesSet):"undefined"!=typeof window&&"function"==typeof window.define&&window.define.amd&&window.define([],function(){return applyAttributesSet});